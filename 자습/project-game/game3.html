<!DOCTYPE html>
<html lang="ko">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>ë‹¬íŒ½ì´ ê²½ì£¼</title>
      <link rel="preconnect" href="https://fonts.googleapis.com" />
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
      <link
         href="https://fonts.googleapis.com/css2?family=Poor+Story&display=swap"
         rel="stylesheet"
      />
      <style>
         div.wrap {
            margin: 50px auto;
            min-width: 500px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font: normal bold 16px 'Poor Story', sans-serif;
         }
         section.userBoard {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
         }
         section.userBoard > div {
            margin: 20px 0;
         }

         button {
            padding: 5px;
            border: none;
            border-radius: 5px;
            font: inherit;
         }
         .warning {
            display: none;
            color: crimson;
            font-size: 12px;
         }
         section {
            margin: 20px auto;
         }

         input {
            width: 100px;
            outline: none;
            border: none;
            border-bottom: 1px solid black;
            font: inherit;
         }
      </style>
   </head>
   <body>
      <div class="wrap">
         <section class="userBoard">
            <h1>ğŸŒë‹¬íŒ½ì´ ê²½ì£¼ğŸŒ</h1>
            <h4>ê²Œì„ì— ì°¸ì—¬í•  ì‚¬ëŒì˜ ì´ë¦„ì€?</h4>
            <div class="user1">
               <label for="user1">1ë²ˆì§¸</label> <input type="text" id="user1" maxlength="10" />
               <p class="warning"></p>
            </div>
            <div class="user2">
               <label for="user2">2ë²ˆì§¸</label> <input type="text" id="user2" maxlength="10" />
               <p class="warning"></p>
            </div>
         </section>
         <section class="setting">
            <span><button onclick="addUser(true)">ì¸ì› ì¶”ê°€í•˜ê¸°</button></span>
            <button onclick="addUser(false)">ì‚­ì œ</button>
            <button onclick="start()">ë“±ë¡ ì™„ë£Œ!</button>
         </section>
         <section class="gameBoard"></section>
      </div>
      <script>
         const userBoard = document.querySelector('.userBoard')
         const addDiv = document.querySelector('.setting > span')
         const h5 = document.querySelector('h5')
         const input = document.querySelectorAll('input')
         const p = document.querySelectorAll('.warning')
         let userNum = 2

         function addUser(add) {
            if (add) {
               userNum++
               const div = document.createElement('div')
               div.className = `user${userNum}`
               div.innerHTML = `
               <label for="user${userNum}">${userNum}ë²ˆì§¸</label>
               <input type="text" id="user${userNum}" maxlength="10"/><p class="warning"></p>`
               userBoard.appendChild(div)
               if (userNum >= 5) {
                  addDiv.innerHTML = `<p>ìµœëŒ€ ì¸ì›ì´ ë‹¤ ì°¼ì–´ìš”!</p>`
                  return
               }
            } else {
               addDiv.innerHTML = `<button onclick="addUser(true)">ì¸ì› ì¶”ê°€í•˜ê¸°</button>`
               const userDiv = document.querySelector(`.user${userNum}`)
               userBoard.removeChild(userDiv)
               userNum--
            }
         }

         function setUser() {
            const inputList = [...input]
            const pList = [...p]
            const valueList = inputList.map((input) => input.value)
            const userList = valueList.map((value, idx) => {
               if (value) {
                  if (idx === valueList.indexOf(value)) {
                     pList[idx].style.display = 'none'
                     inputList[idx].style.borderBottom = '1px solid black'

                     return value.value
                  } else {
                     pList[idx].textContent = 'ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ì´ë¦„ì„ ì‚¬ìš©í•´ì£¼ì„¸ìš”.'
                     pList[idx].style.display = 'block'
                     inputList[idx].style.borderBottom = '1px solid crimson'
                     console.log(inputList[idx])
                  }
               } else {
                  pList[idx].style.display = 'block'
                  inputList[idx].style.borderBottom = '1px solid crimson'
                  pList[idx].textContent = 'ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'
               }
            })
            return userList
         }

         function start() {
            const userList = setUser()
            userList.forEach((user) => {})
         }
      </script>
   </body>
</html>
